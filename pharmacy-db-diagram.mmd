erDiagram
    ПОЛЬЗОВАТЕЛИ ||--o{ ЗАКАЗЫ : "оформляет"
    ПОЛЬЗОВАТЕЛИ ||--o{ УВЕДОМЛЕНИЯ : "получает"
    
    ЗАКАЗЫ ||--|{ СОСТАВ_ЗАКАЗА : "содержит"
    ЗАКАЗЫ }o--|| АПТЕКИ : "самовывоз из"
    
    ТОВАРЫ ||--o{ СОСТАВ_ЗАКАЗА : "включает"
    ТОВАРЫ ||--o{ НАЛИЧИЕ : "хранится"
    
    АПТЕКИ ||--o{ НАЛИЧИЕ : "имеет в наличии"

    ПОЛЬЗОВАТЕЛИ {
        INTEGER ID_пользователя PK "Уникальный идентификатор"
        VARCHAR ФИО "Отображаемое имя"
        VARCHAR Контактные_данные "Телефон или email"
        VARCHAR Хэшированный_пароль "Для авторизации"
        DECIMAL Баланс_бонусов "Бонусные баллы"
        ENUM Язык_интерфейса "ru или en"
    }

    ТОВАРЫ {
        INTEGER ID_товара PK "Уникальный номер"
        VARCHAR Наименование "Название препарата"
        TEXT Описание "Состав, показания, применение"
        DECIMAL Цена "Стоимость в рублях"
        VARCHAR Категория "Тип товара"
        BOOLEAN Рецептурный_товар "Да или нет"
        VARCHAR Производитель "Фармацевтическая компания"
    }

    АПТЕКИ {
        INTEGER ID_аптеки PK "Уникальный номер точки"
        VARCHAR Адрес "Полный почтовый адрес"
        DECIMAL Широта "Географическая широта"
        DECIMAL Долгота "Географическая долгота"
        VARCHAR Контактный_телефон "Номер для связи"
    }

    НАЛИЧИЕ {
        INTEGER ID_наличия PK "Уникальный идентификатор"
        INTEGER ID_товара FK "Ссылка на товар"
        INTEGER ID_аптеки FK "Ссылка на аптеку"
        INTEGER Количество "Доступно единиц"
    }

    ЗАКАЗЫ {
        INTEGER ID_заказа PK "Уникальный номер заказа"
        INTEGER ID_пользователя FK "Ссылка на клиента"
        ENUM Статус "Состояние заказа"
        ENUM Способ_получения "Самовывоз или Доставка"
        VARCHAR Адрес_доставки "Для доставки опционально"
        INTEGER ID_аптеки FK "Для самовывоза опционально"
        TIMESTAMP Дата_создания "Дата и время оформления"
        DECIMAL Общая_сумма "Итоговая стоимость"
    }

    СОСТАВ_ЗАКАЗА {
        INTEGER ID_состава PK "Уникальный идентификатор"
        INTEGER ID_заказа FK "Ссылка на заказ"
        INTEGER ID_товара FK "Ссылка на товар"
        INTEGER Количество "Число единиц"
        DECIMAL Цена_на_момент_заказа "История цен"
    }

    УВЕДОМЛЕНИЯ {
        INTEGER ID_уведомления PK "Уникальный номер"
        INTEGER ID_пользователя FK "Получатель"
        ENUM Тип_уведомления "Категория сообщения"
        TEXT Текст_сообщения "Содержание"
        BOOLEAN Признак_прочтения "Прочитано или нет"
        TIMESTAMP Дата_создания "Время отправки"
    }
