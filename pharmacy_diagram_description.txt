ДИАГРАММА СОСТОЯНИЙ: ВЕБ-ПРИЛОЖЕНИЕ ДЛЯ АПТЕЧНОЙ СЕТИ
================================================================

ОБЩАЯ СТРУКТУРА
----------------
Диаграмма описывает взаимодействие пользователя с веб-приложением аптечной сети.
Включает три основных модуля работы с системой.

НАЧАЛЬНЫЕ СОСТОЯНИЯ
-------------------
[НАЧАЛО] → Пользователь открывает приложение
          ↓
    Пользователь авторизован?
          ↓                    ↓
        ДА                   НЕТ
          ↓                    ↓
Отобразить главную     Отобразить сообщение
    страницу              об ошибке → [КОНЕЦ]


═══════════════════════════════════════════════════════════════════
МОДУЛЬ 1: ПОИСК ЛЕКАРСТВ
═══════════════════════════════════════════════════════════════════

[ГЛАВНАЯ СТРАНИЦА] → Пользователь выбирает "Поиск препаратов"
                                ↓
                    Пользователь вводит название препарата
                                ↓
                        Запрос данных из базы
                                ↓
                    Отображение результатов поиска
                                ↓
                        Выбор конкретного препарата
                                ↓
                    Проверка наличия в аптеках
                                ↓
                        ┌───────┴───────┐
                В НАЛИЧИИ          НЕТ В НАЛИЧИИ
                        ↓                   ↓
            Добавление в корзину    Подписка на уведомление
                        ↓              о поступлении
                        ↓                   ↓
                    [ЗАВЕРШЕНИЕ МОДУЛЯ]


═══════════════════════════════════════════════════════════════════
МОДУЛЬ 2: УПРАВЛЕНИЕ РЕЦЕПТАМИ
═══════════════════════════════════════════════════════════════════

[ГЛАВНАЯ СТРАНИЦА] → Пользователь выбирает "Мои рецепты"
                                ↓
                    Пользователь выбирает действие
                                ↓
            ┌───────────────────┼───────────────────┐
            ↓                   ↓                   ↓
    ЗАГРУЗИТЬ НОВЫЙ    ПРОСМОТР РЕЦЕПТОВ    ПРОВЕРКА СРОКА
         РЕЦЕПТ                                  ДЕЙСТВИЯ
            ↓                   ↓                   ↓
    Загрузка файла      Отображение        Проверка сроков
        рецепта         списка рецептов    действия рецептов
            ↓                   ↓                   ↓
    Валидация рецепта         [КОНЕЦ]        Уведомление
            ↓                                 о результате
    ┌───────┴───────┐                              ↓
ДЕЙСТВИТЕЛЕН    НЕДЕЙСТВИТЕЛЕН                  [КОНЕЦ]
    ↓                   ↓
Сохранение      Сообщение об ошибке
рецепта              рецепта
    ↓                   ↓
[ЗАВЕРШЕНИЕ МОДУЛЯ]


═══════════════════════════════════════════════════════════════════
МОДУЛЬ 3: ОФОРМЛЕНИЕ ЗАКАЗА
═══════════════════════════════════════════════════════════════════

[ГЛАВНАЯ СТРАНИЦА] → Пользователь выбирает "Корзина"
                                ↓
                        Просмотр корзины
                                ↓
                    ┌───────────┴──────────┐
                    ↓                      ↓
        Редактирование корзины    Оформить заказ
        (изменение количества)           ↓
                    ↓               Выбор способа получения
                    └─────────→            ↓
                                    ┌──────┴──────┐
                                САМОВЫВОЗ    ДОСТАВКА
                                    ↓            ↓
                            Выбор аптеки   Ввод адреса
                                    ↓            ↓
                        Проверка наличия   Расчет стоимости
                        в выбранной аптеке    доставки
                                    ↓            ↓
                                    └──────┬─────┘
                                           ↓
                            ┌──────────────┴──────────────┐
                        ДОСТУПНО                    НЕДОСТУПНО
                            ↓                            ↓
                    Выбор способа оплаты    Предложение альтернатив
                            ↓                            ↓
                    ┌───────┴───────┐           ┌────────┴────────┐
            ОНЛАЙН ОПЛАТА    ОПЛАТА ПРИ    ДРУГАЯ АПТЕКА  ОТМЕНИТЬ
                    ↓        ПОЛУЧЕНИИ              ↓          ↓
            Обработка            ↓                  ↓      [КОНЕЦ]
            платежа              ↓          (возврат к выбору
                    ↓            ↓              аптеки)
            ┌───────┴────────┐   ↓
        УСПЕШНО        ОШИБКА    ↓
            ↓              ↓     ↓
            └──────────────┴─────┘
                    ↓
            Создание заказа
                    ↓
        Уведомление о создании заказа
                    ↓
            [ЗАВЕРШЕНИЕ МОДУЛЯ]


═══════════════════════════════════════════════════════════════════
ВОЗВРАТ К ГЛАВНОЙ СТРАНИЦЕ
═══════════════════════════════════════════════════════════════════

Из каждого модуля пользователь может вернуться на главную страницу
и выбрать другое действие.


═══════════════════════════════════════════════════════════════════
КЛЮЧЕВЫЕ ОСОБЕННОСТИ СИСТЕМЫ
═══════════════════════════════════════════════════════════════════

✓ Авторизация пользователя при входе в систему
✓ Поиск препаратов с проверкой наличия в аптеках
✓ Система уведомлений о поступлении препаратов
✓ Управление электронными рецептами с валидацией
✓ Проверка сроков действия рецептов
✓ Гибкий выбор способа получения (самовывоз/доставка)
✓ Проверка наличия товаров в конкретной аптеке
✓ Расчет стоимости доставки
✓ Множественные способы оплаты (онлайн/при получении)
✓ Обработка ошибок и предложение альтернативных решений
✓ Уведомления о статусе заказа

═══════════════════════════════════════════════════════════════════
